---
title: "[이펙티브 자바 요약] item 14 - comparable 구현?"
date: 2020-06-16
tags:
  - 이펙티브자바
  - effectivejava
  - compareTo
  - comparable
---
 이 글은 'Effective Java 3판'(출판사 : 프로그래밍 인사이트, 저자 : Joshua Bloch, 역자 : 개앞맵시(이복연)) 을 읽고 내용을 정리한 글입니다. 문제가 될 시 삭제하겠습니다.
## Item 14 : Comparable을 구현할지 고려

 Object 클래스를 확장하여 equalsTo를 정의하는 것 처럼 Comparable 인터페이스를 구현하여 compareTo를 정의해주면 객체 사이의 순서 비교가 필요한 연산들을 손쉽게 사용할 수 있다.(검색, 극단값 계산, 컬렉션 내 자동정렬 등). 따라서 명확한 값을 가지고 있는 클래스를 만든다면 Comparable를 구현하는 것을 고려해볼만 하다.

 Comparable의 compareTo를 정의할 때에도 역시 규약이 있는데 equalsTo의 규약과 거의 유사한 규약이다. (p88) 이는 compareTo가  기본적으로 동치성 검사를 포함하고 이에 더해서 크기 비교까지 해주는 것이기 때문에 그렇다.

 equalsTo는 모든 오브젝트를 대상으로 하는 함수이기 때문에 입력의 타입을 검사하는 로직이 들어가지만, compareTo는 제네릭 인터페이스이기 때문에 컴파일 타임에 비교할 수 있는 대상인지 아닌지 알 수 있어서 굳이 입력타입을 검사하여 비교가 가능한 같은 타입인지 확인할 필요가 없다.

 compareTo 역시 구현상의 유의점은 equalsTo와 거의 동일하다. 반사성, 대칭성, 추이성 등을 충족하고, 기존의 Comaparble 구현 클래스를 확장한 새로운 구체 클래스에 추가된 새로운 값을 포함한 비교는 위의 규약을 지키면서 만들기 어렵기 때문에 우회해야한다. 우회 방법은 클래스를 확장(상속)하지 말고 추가할 값을 포함하는 클래스로 만들어서 equalsTo와 마찬가지로 Comparble을 구현한 클래스의 필드로 새로운 클래스의 참조를 넣어주는 방법을 취해야 한다. 